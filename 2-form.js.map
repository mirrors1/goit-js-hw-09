{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: \"\", message: \"\" };\r\n\r\nconst form = document.querySelector(\".feedback-form\");\r\nconst LS_KEY = 'feedback-form-state';\r\n\r\nformData = JSON.parse(localStorage.getItem(LS_KEY)) || { email: \"\", message: \"\" };\r\nconst { email, message } = formData;\r\n\r\nif (email) { document.querySelector(`.feedback-form-input`).value = email }\r\nif (message) { document.querySelector(`.feedback-form-textarea`).value = message };\r\n\r\nform.addEventListener(\"input\", makeDataFeedbackForm);\r\nform.addEventListener(\"submit\", sendDataFeedbackForm);\r\n\r\nfunction makeDataFeedbackForm(evt) {\r\n    if (evt.target.classList.contains(`feedback-form-input`)) {\r\n        formData.email = evt.target.value.trim();\r\n        localStorage.setItem(LS_KEY, JSON.stringify(formData))        \r\n    } else if (evt.target.classList.contains(`feedback-form-textarea`)) {\r\n        formData.message = evt.target.value.trim();\r\n        localStorage.setItem(LS_KEY, JSON.stringify(formData))\r\n    }          \r\n};\r\n\r\nfunction sendDataFeedbackForm(evt) {\r\n    evt.preventDefault();\r\n    if (!formData.email || !formData.message) {\r\n        alert(`Fill please all fields`);\r\n        return;\r\n    };\r\n    const value = localStorage.getItem(LS_KEY);\r\n    console.log(JSON.parse(value));     \r\n    formData = { email: \"\", message: \"\" };\r\n    localStorage.removeItem(LS_KEY);    \r\n    form.reset();\r\n};"],"names":["formData","form","LS_KEY","email","message","makeDataFeedbackForm","sendDataFeedbackForm","evt","value"],"mappings":"oCAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,sBAEfF,EAAW,KAAK,MAAM,aAAa,QAAQE,CAAM,CAAC,GAAK,CAAE,MAAO,GAAI,QAAS,EAAE,EAC/E,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGJ,EAEvBG,IAAS,SAAS,cAAc,sBAAsB,EAAE,MAAQA,GAChEC,IAAW,SAAS,cAAc,yBAAyB,EAAE,MAAQA,GAEzEH,EAAK,iBAAiB,QAASI,CAAoB,EACnDJ,EAAK,iBAAiB,SAAUK,CAAoB,EAEpD,SAASD,EAAqBE,EAAK,CAC3BA,EAAI,OAAO,UAAU,SAAS,qBAAqB,GACnDP,EAAS,MAAQO,EAAI,OAAO,MAAM,KAAI,EACtC,aAAa,QAAQL,EAAQ,KAAK,UAAUF,CAAQ,CAAC,GAC9CO,EAAI,OAAO,UAAU,SAAS,wBAAwB,IAC7DP,EAAS,QAAUO,EAAI,OAAO,MAAM,KAAI,EACxC,aAAa,QAAQL,EAAQ,KAAK,UAAUF,CAAQ,CAAC,EAE7D,CAEA,SAASM,EAAqBC,EAAK,CAE/B,GADAA,EAAI,eAAc,EACd,CAACP,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MAER,CAAI,MAAMQ,EAAQ,aAAa,QAAQN,CAAM,EACzC,QAAQ,IAAI,KAAK,MAAMM,CAAK,CAAC,EAC7BR,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWE,CAAM,EAC9BD,EAAK,MAAK,CACd"}